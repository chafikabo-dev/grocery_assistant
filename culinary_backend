# culinary_backend/app.py

from flask import Flask, request, jsonify
from scrapers.loblaws import get_prices  # Youâ€™ll create this module next

app = Flask(__name__)

@app.route('/prices', methods=['GET'])
def prices():
    item = request.args.get('item')
    location = request.args.get('location')
    
    if not item or not location:
        return jsonify({'error': 'Missing item or location'}), 400

    try:
        results = get_prices(item, location)
        return jsonify({'results': results})
    except Exception as e:
        return jsonify({'error': str(e)}), 500

if __name__ == '__main__':
    app.run(debug=True)
